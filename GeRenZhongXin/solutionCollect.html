<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/GRZX.css">
    <script src="js/jquery-1.9.1.min.js"></script>
    <script src="js/hotcss.js"></script>
    <title>解决方案收藏</title>
</head>
<body>
    <!-- 头部 -->
    <div class="topNav">
        <a href="javascript:history.go(-1)" class="backBtn"><img src="img/icon_left.png" alt=""></a>
        <h2>解决方案收藏</h2>
        <a href="javascript:;" class="mine"><img src="img/icon_mine.png" alt=""></a>
    </div>
    <!-- 内容 -->
    <div class="containerBox">
        <div class="inner">
            
            <div class="collection">

                <div class="collectItem">
                    <a href="javascript:;" class="leftImg"><img src="img/collectImg1.png" alt=""></a>
                    <div class="rightMsg">
                        <a href="javascript:;" class="title">舆情服务方案</a>
                        <div class="tools">
                            <a href="javascript:;" class="remove">移除</a>
                            <a href="javascript:;" class="check">查看详情</a>
                        </div>
                    </div>
                </div>

                <div class="collectItem">
                    <a href="javascript:;" class="leftImg"><img src="img/collectImg2.png" alt=""></a>
                    <div class="rightMsg">
                        <a href="javascript:;" class="title">企业融资报道</a>
                        <div class="tools">
                            <a href="javascript:;" class="remove">移除</a>
                            <a href="javascript:;" class="check">查看详情</a>
                        </div>
                    </div>
                </div>

                <div class="collectItem">
                    <a href="javascript:;" class="leftImg"><img src="img/collectImg3.png" alt=""></a>
                    <div class="rightMsg">
                        <a href="javascript:;" class="title">网站认证服务</a>
                        <div class="tools">
                            <a href="javascript:;" class="remove">移除</a>
                            <a href="javascript:;" class="check">查看详情</a>
                        </div>
                    </div>
                </div>

            </div>
            
            <p class="more">没有更多数据了</p>

        </div>
    </div>
    
    <script src="js/GRZX.js"></script>
    <script>
        //移除
        $(".collection").on("click",".remove",function(){
            $(this).parents(".collectItem").remove();
        });
        
        //懒加载
        var flag = false;
        $(document).on("scroll",function(){
            if($(this).scrollTop() >= ($(".collection").offset().top + $(".collection").outerHeight() * 0.5) ){
                if(flag) return;
                flag = true;
                $(".more").html("正在加载");
                $.ajax({
                    url: "url",
                    type: "get",
                    data: {},
                    success: function (res) {
                        
                        if(res.data.length == 0){
                            $(".more").html("没有更多数据了");
                        }else{
                            flag = false;
                            $(".more").html("下拉显示更多");
                        }

                        $('<div class="collectItem">'
                                +'<a href="javascript:;" class="leftImg"><img src="img/collectImg3.png" alt=""></a>'
                                +'<div class="rightMsg">'
                                    +'<a href="javascript:;" class="title">网站认证服务</a>'
                                    +'<div class="tools">'
                                        +'<a href="javascript:;" class="remove">移除</a>'
                                        +'<a href="javascript:;" class="check">查看详情</a>'
                                    +'</div>'
                                +'</div>'
                            +'</div>').appendTo(".collection");
                    }
                });
            }
        });
    </script>
</body>
</html>